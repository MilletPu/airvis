<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="js/bootstrap-3.3.0/css/bootstrap.min.css">
    <!-- 可选的Bootstrap主题文件（一般不用引入） -->
    <link rel="stylesheet" href="js/bootstrap-3.3.0/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="js/jquerylayout/source/stable/layout-default.css">
    <link rel="stylesheet" href="js/trends.css">
    <link rel="stylesheet" href="js/jqueryui1114/jquery-ui.css">
    <!--<link rel="stylesheet" href="js/leaflet/leaflet.css">-->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <link href='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.css' rel='stylesheet' />
    <link rel="stylesheet" href="js/airvis.css">
    <!-- https://github.com/Wildhoney/Leaflet.FreeDraw When you're drawing a polygon on the map,
    the path that is being drawn is invisible – this is caused by a handful of missing styles
    that you need to apply to the svg.tracer node:-->
    <style>
        svg.tracer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .ui-resizable-helper { border: 2px dotted #ff9553; }
    </style>


    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="js/jquery-2.1.3/jquery-2.1.3.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="js/bootstrap-3.3.0/js/bootstrap.min.js"></script>
    <script src="js/d3.js/d3.js"></script>
    <script src="js/d3.tip.v0.6.3.js"></script>
    <script src="js/Javascript_Clipper_6.1.3.2/clipper.js"></script>
    <script src="js/concovehull/concavehull.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <script src='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.standalone.js'></script>
    <script src="js/leafletfreedraw/leaflet.freedraw-src.js"></script>
    <!--pip is ued to Simple point in polygon calculation using point-in-polygon.-->
    <script src="js/leaflet-pip/leaflet-pip.js"></script>
    <!--<script src="js/leaflet/leaflet-src.js"></script>-->
    <script src="js/leaflet-google.js"></script>
    <script src="http://maps.google.com/maps/api/js?v=3&sensor=false&key=AIzaSyAjck3hEqhffZkaLqetTdt6yrNv2amYOMk"></script>
    <script src="js/jquerylayout/source/stable/jquery.layout_and_plugins.js"></script>
    <script src="js/jqueryui1114/jquery-ui.js"></script>
    <script src="js/gridsgen.js"></script>
    <script src="js/leafletutils.js"></script>
    <script src="js/heatmap.js/build/heatmap.js"></script>
    <script src="js/heatmap.js/plugins/leaflet-heatmap.js"></script>
    <script src="js/raphael.js"></script>
    <script src="js/raphael.icons.min.js"></script>
    <script src="js/wheelnav.js-1.6.1.core/wheelnav.js"></script>
    <script src="js/kriging.js"></script>
    <script src="js/L.D3SvgOverlay.js"></script>
    <script src="js/china-city-area-zip.js"></script>
    <script>
        $(function() {
            $( "#calendar" ).draggable();
            $( "#calendar" ).resizable({
                animate: true,
                helper: "ui-resizable-helper"
            });
//            $( "#trendpanel" ).draggable();
        });

    </script>
</head>

<body>
<div id="piemenu" style="position:fixed; visibility: hidden; z-index:2000; width:300px; height:300px;left:0px;top:0px;"></div>

<div id="map"></div>

<div id="controller" style="position:fixed;left:5px;top:50px;z-index: 200;padding-left: 10px;">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Map Layers</h3>
        </div>
        <div class="panel-body">
            <div style="text-align: center;"><input id="pointcontrol" type="checkbox" onchange="pointControl();"><label>Air Quality Stations</label><br></div>
            <div style="text-align: center;"><input id="meteorologicalStationControl" type="checkbox" onchange="meteorologicalStationControl();"><label>Meteorological Stations</label></div>
            <div style="text-align: center;"><input id="provinceBoundary" type="checkbox" onchange="provinceBoundaryControl();"><label>Province Boundary</label></div>
            <div style="text-align: center;"><input id="provinceValue" type="checkbox" onchange="provinceValueControl();"><label>Province Value</label></div>
            <div style="text-align: center;"><input id="cityBoundary" type="checkbox" onchange="cityBoundaryControl();" ><label>City Boundary</label></div>
            <div style="text-align: center;"><input id="cityValue" type="checkbox" onchange="cityValueControl();" checked><label>City Value</label></div>
        </div>
        <!--<div class="panel-heading">-->
            <!--<div style="text-align: center;"><input id="controlCalendar" type="checkbox" onchange="controlCalendar();" style=""><label>Calendar View</label></div>-->
        <!--</div>-->
        <!--<div id="calencarBody" class="panel-body disabled">-->
            <!--<div style="text-align: left;"><input id="adaptiveControlCalendar" type="checkbox" onchange="" style=""><label>Adaptive</label></div>-->
            <!--<div style="text-align: left;"><input id="kriging" type="checkbox" onchange="" style=""><label>Kriging Interpolation</label></div>-->
            <!--<input id="showDayOfMonth" name="calendarcontrol" type="radio" checked onclick="createCalendarView();"><label for="showDayOfMonth">Day of Month</label><br>-->
            <!--<input id="showHourOfWeek" name="calendarcontrol" type="radio" onclick="createCalendarView();"><label for="showHourOfWeek">Hour of Week</label><br>-->
            <!--<input id="showDayOfMonthSeparately" name="calendarcontrol" type="radio" onclick="createCalendarView();"><label for="showDayOfMonthSeparately">Day of Month Adaptively</label><br>-->
            <!--<input id="showHourOfWeekSeparately" name="calendarcontrol" type="radio" onclick="createCalendarView();"><label for="showHourOfWeekSeparately">Hour of Week Adaptively</label>-->
        <!--</div>-->

        <div class="panel-heading">
            <div style="text-align: center;"><input id="controlTrend" type="checkbox" onchange="controlTrend();" checked><label>Trend View</label></div>
        </div>
        <!--<div class="panel-body"></div>-->

        <div class="panel-heading">
            <div style="text-align: center;"><input id="controlContextRing" type="checkbox" onchange="controlContextRing();"><label>controlContextRing View</label></div>
            <div style="text-align: center;"><input id="controlCluster" type="checkbox" onchange="controlCluster();"><label>control Cluster</label></div>
            <div style="text-align: center;"><input id="controlThemeRiver" type="checkbox" onchange="controlThemeRiver();"><label>controlThemeRiver View</label></div>
            <div style="text-align: center;"><input id="controlGrids" type="checkbox" onchange="controlGrids();"><label>Grids View</label></div>
        </div>
        <div class="panel-body">
            <div style="text-align: center;"><input id="controlWinds" type="checkbox" onchange="controlWinds();"><label>Winds View</label></div>
        </div>

        <div class="panel-heading">
            <h3 class="panel-title">Controls</h3>
        </div>
        <div class="panel-body">
            <input type="button" onclick="activeFreeDraw();" value="polygonselection"><br>
            <input type="button" onclick="deactiveFreeDraw();" value="navigation"><br>


            <label id="minDistance">0</label><div id="slider" style="display:inline-block;width:50px;left:10px;"></div><label id="maxDistance">0</label>
        </div>
    </div>


</div>

<!--<div id="calendar" class="viscomponentbg draggableBoder" style="position:fixed; top:0px; right: 0px; width:800px; height:600px;visibility: hidden;"></div>-->

<div id="trendpanel" class="viscomponentbg draggableBoder" style="position:fixed; bottom:0px; left:0px;height:250px;">
    <div id="trend" style="height:230px;width:1600px; overflow-x: auto;overflow-y:hidden;  direction:rtl;"></div>
    <input id="showYearTrends" name="trendcontrol" type="radio" checked onclick="trendYear();"><label for="showYearTrends">showYearTrends</label>
    <input id="showMonthTrends" name="trendcontrol" type="radio" onclick="trendMonth();"><label for="showMonthTrends">showMonthTrends</label>
</div>
<div id="circle"  style="position:fixed; top:0px; left: 0px; width:0px; height:0px; visibility: hidden"></div>
<div id="themeriver0" style="position:fixed;"></div>
<div id="themeriver1" style="position:fixed;"></div>
<div id="themeriver2" style="position:fixed;"></div>
<div id="themeriver3" style="position:fixed;"></div>
<div id="themeriver4" style="position:fixed;"></div>
<div id="themeriver5" style="position:fixed;"></div>
<div id="themeriver6" style="position:fixed;"></div>
<div id="themeriver7" style="position:fixed;"></div>
<script>
    initUIs();
</script>

<script>
    linearTime();
//    createCalendarView();
</script>
</body>
</html>